import { curry } from 'ramda';

const router = curry((api, req, res) => {
  const {method, url} = req;
  if (api[method.toLowerCase()]) {
    api[method.toLowerCase()](req, res);
  } else {
    res.status(405).send(`${method} not allowed on ${url}\nDid you forget to send an ID value?`);
  }
});

export default router;